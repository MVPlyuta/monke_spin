{
	"info": {
		"_postman_id": "26e43b50-4f87-40fc-805f-db856eff758f",
		"name": "APISandBox Caranga",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "20025395",
		"_collection_link": "https://caranga.postman.co/workspace/Caranga~e284bde1-17b6-49c2-a522-efe89b8946d6/collection/20025395-26e43b50-4f87-40fc-805f-db856eff758f?action=share&creator=20025395&source=collection_link"
	},
	"item": [
		{
			"name": "Успешная выдача на карту",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"Date.prototype.addMinutes = function(minutes){\r",
							" \r",
							" return new Date(this.setMinutes(this.getMinutes() + 180 + minutes));\r",
							"}\r",
							" \r",
							"Date.prototype.toRequiredString = function(){\r",
							" var dateStr= this.toISOString();\r",
							" var strEnd = dateStr.slice(-5);\r",
							" return dateStr.replace(strEnd, '+03:00')\r",
							"}\r",
							" \r",
							" \r",
							"var currentDatePlus1min = new Date().addMinutes(1).toRequiredString();\r",
							"var currentDatePlus3min = new Date().addMinutes(3).toRequiredString();\r",
							"pm.collectionVariables.set('auto_time', currentDatePlus1min)\r",
							"pm.collectionVariables.set('auto_time3', currentDatePlus3min)"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "[\r\n    {\r\n        \"type\": \"rest\",\r\n        \"url\": \"/v1/payout/create\",\r\n        \"method\": \"POST\",\r\n        \"status\": 200,\r\n        \"response\": {\r\n            \"id\": 229568717,\r\n            \"transaction_id\": \"c790d768-ec70-48ae-aae0-296a0fdf9fc9\",\r\n            \"status\": \"init\",\r\n            \"create_date\": \"{{auto_time}}\",\r\n            \"update_date\": \"{{auto_time3}}\" ,\r\n            \"payout_method\": {\r\n                \"method\": \"card\",\r\n                \"type\": \"card_rf_master\",\r\n                \"account\": \"411111xxxxxx1111\"\r\n            },\r\n            \"wallet\": {\r\n                \"id\": 1941,\r\n                \"amount\": 8200,\r\n                \"currency\": \"RUB\"\r\n            },\r\n            \"fee\": {\r\n                \"type\": \"wallet\",\r\n                \"amount\": 200,\r\n                \"currency\": \"RUB\"\r\n            },\r\n            \"transfer\": {\r\n                \"amount\": 8000,\r\n                \"currency\": \"RUB\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"rest\",\r\n        \"url\": \"/v1/payout/get\",\r\n        \"method\": \"POST\",\r\n        \"status\": 200,\r\n        \"response\": {\r\n            \"id\": 24812813,\r\n            \"transaction_id\": \"777a38ff-a604-4c5b-9d38-5912ff19f2f1\",\r\n            \"status\": \"successful\",\r\n            \"create_date\": \"{{auto_time}}\" ,\r\n            \"update_date\": \"{{auto_time3}}\" ,\r\n            \"payout_method\": {\r\n                \"method\": \"card\",\r\n                \"type\": \"card_rf_master\",\r\n                \"account\": \"411111xxxxxx1111\",\r\n                \"card\": {\r\n                    \"brand\": \"MASTERCARD\",\r\n                    \"category\": \"STANDARD\",\r\n                    \"country\": \"RU\",\r\n                    \"bank\": \"SAVINGS BANK OF THE RUSSIAN FEDERATION (SBERBANK)\",\r\n                    \"type\": \"DEBIT\"\r\n                }\r\n            },\r\n            \"wallet\": {\r\n                \"amount\": 8200,\r\n                \"currency\": \"RUB\",\r\n                \"id\": 2936\r\n            },\r\n            \"fee\": {\r\n                \"amount\": 200,\r\n                \"currency\": \"RUB\",\r\n                \"type\": \"wallet\"\r\n            },\r\n            \"transfer\": {\r\n                \"amount\": 8000,\r\n                \"currency\": \"RUB\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"rest\",\r\n        \"url\": \"/v1/wallet/get\",\r\n        \"method\": \"POST\",\r\n        \"status\": 200,\r\n        \"response\": {\r\n            \"id\": 1941,\r\n            \"name\": \"main\",\r\n            \"transaction_id\": \"777a38ff-a604-4c5b-9d38-5912ff19f2f1\",\r\n            \"status\": \"successful\",\r\n            \"create_date\": \"2023-01-01T10:07:19+00:00\",\r\n            \"update_date\": \"2023-01-01T10:07:19+00:00\",\r\n            \"balance\": {\r\n                \"amount\": 820000,\r\n                \"currency\": \"RUB\"\r\n            },\r\n            \"isIdentified\": true,\r\n            \"isDefault\": true\r\n        }\r\n    }\r\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://192.168.1.80:64400/Schema",
					"protocol": "http",
					"host": [
						"192",
						"168",
						"1",
						"80"
					],
					"port": "64400",
					"path": [
						"Schema"
					]
				}
			},
			"response": []
		},
		{
			"name": "Неуспешная выдача на карту",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"Date.prototype.addMinutes = function(minutes){\r",
							" \r",
							" return new Date(this.setMinutes(this.getMinutes() + 180 + minutes));\r",
							"}\r",
							" \r",
							"Date.prototype.toRequiredString = function(){\r",
							" var dateStr= this.toISOString();\r",
							" var strEnd = dateStr.slice(-5);\r",
							" return dateStr.replace(strEnd, '+03:00')\r",
							"}\r",
							" \r",
							" \r",
							"var currentDatePlus1min = new Date().addMinutes(1).toRequiredString();\r",
							"var currentDatePlus3min = new Date().addMinutes(3).toRequiredString();\r",
							"pm.collectionVariables.set('auto_time', currentDatePlus1min)\r",
							"pm.collectionVariables.set('auto_time3', currentDatePlus3min)"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "[\r\n    {\r\n        \"type\": \"rest\",\r\n        \"url\": \"/v1/payout/create\",\r\n        \"method\": \"POST\",\r\n        \"status\": 200,\r\n        \"response\": {\r\n            \"id\": 229568717,\r\n            \"transaction_id\": \"c790d768-ec70-48ae-aae0-296a0fdf9fc9\",\r\n            \"status\": \"init\",\r\n            \"create_date\": \"{{auto_time}}\",\r\n            \"update_date\": \"{{auto_time3}}\" ,\r\n            \"payout_method\": {\r\n                \"method\": \"card\",\r\n                \"type\": \"card_rf_master\",\r\n                \"account\": \"411111xxxxxx1111\"\r\n            },\r\n            \"wallet\": {\r\n                \"id\": 1941,\r\n                \"amount\": 8200,\r\n                \"currency\": \"RUB\"\r\n            },\r\n            \"fee\": {\r\n                \"type\": \"wallet\",\r\n                \"amount\": 200,\r\n                \"currency\": \"RUB\"\r\n            },\r\n            \"transfer\": {\r\n                \"amount\": 8000,\r\n                \"currency\": \"RUB\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"rest\",\r\n        \"url\": \"/v1/payout/get\",\r\n        \"method\": \"POST\",\r\n        \"status\": 200,\r\n        \"response\": {\r\n            \"id\": 24812813,\r\n            \"transaction_id\": \"777a38ff-a604-4c5b-9d38-5912ff19f2f1\",\r\n            \"status\": \"successful\",\r\n            \"create_date\": \"2023-01-01T10:07:19+03:00\" ,\r\n            \"update_date\": \"2023-01-01T10:07:19+03:00\" ,\r\n            \"payout_method\": {\r\n                \"method\": \"card\",\r\n                \"type\": \"card_rf_master\",\r\n                \"account\": \"411111xxxxxx1111\",\r\n                \"card\": {\r\n                    \"brand\": \"MASTERCARD\",\r\n                    \"category\": \"STANDARD\",\r\n                    \"country\": \"RU\",\r\n                    \"bank\": \"SAVINGS BANK OF THE RUSSIAN FEDERATION (SBERBANK)\",\r\n                    \"type\": \"DEBIT\"\r\n                }\r\n            },\r\n            \"wallet\": {\r\n                \"amount\": 8200,\r\n                \"currency\": \"RUB\",\r\n                \"id\": 2936\r\n            },\r\n            \"fee\": {\r\n                \"amount\": 200,\r\n                \"currency\": \"RUB\",\r\n                \"type\": \"wallet\"\r\n            },\r\n            \"transfer\": {\r\n                \"amount\": 8000,\r\n                \"currency\": \"RUB\"\r\n            }\r\n        }\r\n    },\r\n    {\r\n        \"type\": \"rest\",\r\n        \"url\": \"/v1/wallet/get\",\r\n        \"method\": \"POST\",\r\n        \"status\": 200,\r\n        \"response\": {\r\n            \"id\": 1941,\r\n            \"name\": \"main\",\r\n            \"transaction_id\": \"777a38ff-a604-4c5b-9d38-5912ff19f2f1\",\r\n            \"status\": \"successful\",\r\n            \"create_date\": \"2023-01-01T10:07:19+00:00\",\r\n            \"update_date\": \"2023-01-01T10:07:19+00:00\",\r\n            \"balance\": {\r\n                \"amount\": 820000,\r\n                \"currency\": \"RUB\"\r\n            },\r\n            \"isIdentified\": true,\r\n            \"isDefault\": true\r\n        }\r\n    }\r\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://192.168.1.80:64400/Schema",
					"protocol": "http",
					"host": [
						"192",
						"168",
						"1",
						"80"
					],
					"port": "64400",
					"path": [
						"Schema"
					]
				}
			},
			"response": []
		},
		{
			"name": "Посмотреть схему",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://192.168.1.80:64400/Schema",
					"protocol": "http",
					"host": [
						"192",
						"168",
						"1",
						"80"
					],
					"port": "64400",
					"path": [
						"Schema"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "auto_time",
			"value": ""
		},
		{
			"key": "auto_time3",
			"value": ""
		}
	]
}